<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NASA Explorer</title>
  <style>
    body { background:#0b0c10; color:#fff; font-family:Arial, sans-serif; margin:0; padding:20px; }
    h2 { color:#66fcf1; }
    select, button { margin:5px; padding:5px 10px; border-radius:5px; }
    button { background:#45a29e; color:#fff; border:none; cursor:pointer; }
    .card { background:#1f2833; padding:20px; border-radius:10px; margin-top:20px; }
    img, iframe { max-width:100%; border-radius:10px; margin-top:10px; }
    .error { color:red; font-weight:bold; }
  </style>
</head>
<body>
  <h2>üöÄ Astronomy Picture of the Day (APOD)</h2>
  <div>
    <select id="year"></select>
    <select id="month"></select>
    <select id="day"></select>
    <button onclick="loadAPOD()">Load APOD</button>
  </div>
  <div class="card" id="apod"></div>

  <script>
    const API_KEY = "DEMO_KEY"; // thay b·∫±ng key th·∫≠t n·∫øu c√≥

    // fill combo
    function fillDateSelects() {
      const now = new Date();
      const ySel = document.getElementById("year");
      const mSel = document.getElementById("month");
      const dSel = document.getElementById("day");

      for (let y = 1995; y <= now.getFullYear(); y++) {
        let opt = document.createElement("option");
        opt.value = y; opt.textContent = y;
        ySel.appendChild(opt);
      }
      for (let m = 1; m <= 12; m++) {
        let opt = document.createElement("option");
        opt.value = m.toString().padStart(2, "0"); opt.textContent = m;
        mSel.appendChild(opt);
      }
      for (let d = 1; d <= 31; d++) {
        let opt = document.createElement("option");
        opt.value = d.toString().padStart(2, "0"); opt.textContent = d;
        dSel.appendChild(opt);
      }
      // set default: h√¥m nay
      ySel.value = now.getFullYear();
      mSel.value = (now.getMonth() + 1).toString().padStart(2, "0");
      dSel.value = now.getDate().toString().padStart(2, "0");
    }

    async function loadAPOD() {
      const year = document.getElementById("year").value;
      const month = document.getElementById("month").value;
      const day = document.getElementById("day").value;
      const date = `${year}-${month}-${day}`;
      const apodDiv = document.getElementById("apod");
      apodDiv.innerHTML = "‚è≥ Loading...";

      try {
        const res = await fetch(`https://api.nasa.gov/planetary/apod?api_key=${API_KEY}&date=${date}`);
        if (!res.ok) throw new Error("API error: " + res.status);
        const data = await res.json();

        if (data.code) throw new Error(data.msg || "Invalid date");

        let html = `<h3>${data.title}</h3>`;
        html += `<p>${data.explanation}</p>`;
        if (data.media_type === "image") {
          html += `<img src="${data.url}" alt="APOD">`;
        } else if (data.media_type === "video") {
          html += `<iframe src="${data.url}" frameborder="0" allowfullscreen></iframe>`;
        }
        apodDiv.innerHTML = html;
      } catch (err) {
        apodDiv.innerHTML = `<p class="error">‚ùå ${err.message}</p>`;
      }
    }

    fillDateSelects();
    loadAPOD(); // load m·∫∑c ƒë·ªãnh h√¥m nay
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NASA Explorer</title>
  <style>
    body { background:#0b0c10; color:#fff; font-family:Arial, sans-serif; margin:0; padding:20px; }
    h2 { color:#66fcf1; }
    select, button { margin:5px; padding:5px 10px; border-radius:5px; }
    button { background:#45a29e; color:#fff; border:none; cursor:pointer; }
    .card { background:#1f2833; padding:20px; border-radius:10px; margin-top:20px; }
    img, iframe { max-width:100%; border-radius:10px; margin-top:10px; }
    .error { color:red; font-weight:bold; }
  </style>
</head>
<body>
  <h2>üöÄ Astronomy Picture of the Day (APOD)</h2>
  <div>
    <select id="year"></select>
    <select id="month"></select>
    <select id="day"></select>
    <button onclick="loadAPOD()">Load APOD</button>
  </div>
  <div class="card" id="apod"></div>

  <script>
    const API_KEY = "DEMO_KEY"; // thay b·∫±ng key th·∫≠t n·∫øu c√≥

    // fill combo
    function fillDateSelects() {
      const now = new Date();
      const ySel = document.getElementById("year");
      const mSel = document.getElementById("month");
      const dSel = document.getElementById("day");

      for (let y = 1995; y <= now.getFullYear(); y++) {
        let opt = document.createElement("option");
        opt.value = y; opt.textContent = y;
        ySel.appendChild(opt);
      }
      for (let m = 1; m <= 12; m++) {
        let opt = document.createElement("option");
        opt.value = m.toString().padStart(2, "0"); opt.textContent = m;
        mSel.appendChild(opt);
      }
      for (let d = 1; d <= 31; d++) {
        let opt = document.createElement("option");
        opt.value = d.toString().padStart(2, "0"); opt.textContent = d;
        dSel.appendChild(opt);
      }
      // set default: h√¥m nay
      ySel.value = now.getFullYear();
      mSel.value = (now.getMonth() + 1).toString().padStart(2, "0");
      dSel.value = now.getDate().toString().padStart(2, "0");
    }

    async function loadAPOD() {
      const year = document.getElementById("year").value;
      const month = document.getElementById("month").value;
      const day = document.getElementById("day").value;
      const date = `${year}-${month}-${day}`;
      const apodDiv = document.getElementById("apod");
      apodDiv.innerHTML = "‚è≥ Loading...";

      try {
        const res = await fetch(`https://api.nasa.gov/planetary/apod?api_key=${API_KEY}&date=${date}`);
        if (!res.ok) throw new Error("API error: " + res.status);
        const data = await res.json();

        if (data.code) throw new Error(data.msg || "Invalid date");

        let html = `<h3>${data.title}</h3>`;
        html += `<p>${data.explanation}</p>`;
        if (data.media_type === "image") {
          html += `<img src="${data.url}" alt="APOD">`;
        } else if (data.media_type === "video") {
          html += `<iframe src="${data.url}" frameborder="0" allowfullscreen></iframe>`;
        }
        apodDiv.innerHTML = html;
      } catch (err) {
        apodDiv.innerHTML = `<p class="error">‚ùå ${err.message}</p>`;
      }
    }

    fillDateSelects();
    loadAPOD(); // load m·∫∑c ƒë·ªãnh h√¥m nay
  </script>
</body>
</html>
