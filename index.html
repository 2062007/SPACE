<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üöÄ NASA API Explorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans">
  <header class="bg-gray-800 p-4 text-center text-2xl font-bold shadow-lg">
    üöÄ NASA API Explorer
  </header>

  <nav class="flex flex-wrap justify-center gap-3 p-4 bg-gray-800 sticky top-0 z-10">
    <button class="btn" onclick="loadAPOD()">APOD</button>
    <button class="btn" onclick="loadMars()">Mars Rover</button>
    <button class="btn" onclick="loadAsteroids()">Asteroids</button>
    <button class="btn" onclick="loadEarth()">Earth Assets</button>
    <button class="btn" onclick="loadEPIC()">EPIC</button>
    <button class="btn" onclick="loadLibrary()">Media Library</button>
  </nav>

  <main class="max-w-5xl mx-auto p-6">
    <div id="content" class="animate-fadeIn">
      <h2 class="text-xl font-semibold text-center">üî≠ Ch·ªçn 1 API ƒë·ªÉ b·∫Øt ƒë·∫ßu...</h2>
    </div>
  </main>

  <style>
    .btn { @apply px-4 py-2 rounded-lg bg-teal-500 text-black font-semibold hover:bg-teal-400 transition; }
    .animate-fadeIn { animation: fadeIn 0.6s ease-in-out; }
    @keyframes fadeIn { from {opacity:0;transform:translateY(10px);} to {opacity:1;transform:translateY(0);} }
  </style>

<script>
const API_KEY = "hiJb1dhZj7g7e7Uq0bPCzD5P579xvroRFeUoJGp7"; // API key ƒë√£ d√°n s·∫µn

// === Astronomy Picture of the Day ===
async function loadAPOD() {
  const res = await fetch(`https://api.nasa.gov/planetary/apod?api_key=${API_KEY}`);
  const data = await res.json();
  document.getElementById("content").innerHTML = `
    <h2 class="text-2xl font-bold mb-2">${data.title}</h2>
    <p>${data.date}</p>
    ${data.media_type === "video"
      ? `<iframe class="w-full h-96 rounded-lg" src="${data.url}" frameborder="0"></iframe>`
      : `<img src="${data.url}" class="rounded-lg shadow-lg mx-auto"/>`}
    <p class="mt-4 text-justify">${data.explanation}</p>
  `;
}

// === Mars Rover Photos ===
async function loadMars() {
  const res = await fetch(`https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?sol=1000&api_key=${API_KEY}`);
  const data = await res.json();
  if (!data.photos.length) {
    document.getElementById("content").innerHTML = "<p>No photos available</p>";
    return;
  }
  const photo = data.photos[0];
  document.getElementById("content").innerHTML = `
    <h2 class="text-2xl font-bold mb-2">Mars Rover: ${photo.rover.name}</h2>
    <p>Camera: ${photo.camera.full_name} | Date: ${photo.earth_date}</p>
    <img src="${photo.img_src}" class="rounded-lg shadow-lg mt-2"/>
  `;
}

// === Asteroids (NeoWs) ===
async function loadAsteroids() {
  // L·∫•y d·ªØ li·ªáu trong 1 ng√†y c·ª• th·ªÉ ƒë·ªÉ tr√°nh tr·∫£ v·ªÅ r·ªóng
  const today = new Date().toISOString().split("T")[0];
  const res = await fetch(`https://api.nasa.gov/neo/rest/v1/feed?start_date=${today}&end_date=${today}&api_key=${API_KEY}`);
  const data = await res.json();
  const astList = data.near_earth_objects[today];
  if (!astList || !astList.length) {
    document.getElementById("content").innerHTML = "<p>No asteroid data found</p>";
    return;
  }
  const ast = astList[0];
  document.getElementById("content").innerHTML = `
    <h2 class="text-2xl font-bold mb-2">Asteroid: ${ast.name}</h2>
    <p>Size: ${ast.estimated_diameter.meters.estimated_diameter_max.toFixed(2)} m</p>
    <p>Hazardous: ${ast.is_potentially_hazardous_asteroid ? "‚ö†Ô∏è Yes" : "‚úÖ No"}</p>
    <pre class="bg-gray-800 p-3 rounded mt-2 overflow-x-auto">${JSON.stringify(ast, null, 2)}</pre>
  `;
}

// === Earth Assets ===
async function loadEarth() {
  const lat = 1.5, lon = 100.75;
  const res = await fetch(`https://api.nasa.gov/planetary/earth/assets?lon=${lon}&lat=${lat}&date=2018-01-01&dim=0.1&api_key=${API_KEY}`);
  const data = await res.json();
  if (!data.url) {
    document.getElementById("content").innerHTML = "<p>No Earth image found</p>";
    return;
  }
  document.getElementById("content").innerHTML = `
    <h2 class="text-2xl font-bold mb-2">Earth Assets</h2>
    <p>Date: ${data.date}</p>
    <img src="${data.url}" class="rounded-lg shadow-lg"/>
  `;
}

// === EPIC (Earth Polychromatic Camera) ===
async function loadEPIC() {
  const res = await fetch(`https://api.nasa.gov/EPIC/api/natural/images?api_key=${API_KEY}`);
  const data = await res.json();
  if (!data.length) {
    document.getElementById("content").innerHTML = "<p>No EPIC images found</p>";
    return;
  }
  const img = data[0];
  const d = new Date(img.date);
  const datePath = `${d.getUTCFullYear()}/${String(d.getUTCMonth()+1).padStart(2,"0")}/${String(d.getUTCDate()).padStart(2,"0")}`;
  const url = `https://epic.gsfc.nasa.gov/archive/natural/${datePath}/png/${img.image}.png`;
  document.getElementById("content").innerHTML = `
    <h2 class="text-2xl font-bold mb-2">EPIC Earth Image</h2>
    <p>Date: ${img.date}</p>
    <img src="${url}" class="rounded-lg shadow-lg"/>
  `;
}

// === NASA Media Library ===
async function loadLibrary() {
  const res = await fetch(`https://images-api.nasa.gov/search?q=galaxy&media_type=image`);
  const data = await res.json();
  const item = data.collection.items[0];
  document.getElementById("content").innerHTML = `
    <h2 class="text-2xl font-bold mb-2">NASA Media Library</h2>
    <p>${item.data[0].title}</p>
    <img src="${item.links[0].href}" class="rounded-lg shadow-lg"/>
  `;
}
</script>
</body>
</html>
